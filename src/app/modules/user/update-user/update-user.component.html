<p-messages [(value)]="messages" [enableService]="false" [closable]="false"></p-messages>

<form (ngSubmit)="onSubmit()">
  <div>
    <div class="flex flex-column gap-2 top-2">
        <label for="firstName">Primeiro Nome</label>
        <input class="flex flex-column gap-2" id="firstName" type="text" pInputText [(ngModel)]="user.firstName" name="firstName" required>
      </div>
    <div class="flex flex-column gap-2">
        <label for="lastName">Ultimo Nome</label>
        <input id="lastName" type="text" pInputText [(ngModel)]="user.lastName" name="lastName" required>
      </div>
    <div class="flex flex-column gap-2">
        <label for="email">Email</label>
        <input id="email" type="email" pInputText [(ngModel)]="user.email" name="email" required>
      </div>
    <div class="flex flex-column gap-2">
        <label for="birthday">Data de Nascimento</label>
        <input id="birthday" placeholder="dd/mm/yyyy" pInputText [(ngModel)]="user.birthday" name="birthday" required>
      </div>
    <div class="flex flex-column gap-2">
        <label for="login">Login</label>
        <input id="login" type="text" pInputText [(ngModel)]="user.login" name="login" required>
      </div>
    <div class="flex flex-column gap-2">
        <label for="password">Password</label>
        <input id="password" type="password" pInputText [(ngModel)]="user.password" name="password" required>
      </div>
    <div class="flex flex-column gap-2">
        <label for="phone">Celular</label>
        <input id="phone" type="text" pInputText [(ngModel)]="user.phone" name="phone">
      </div>
      
      <button type="submit" pButton label="Submit"></button>
      <button type="button" pButton label="Add Car" (click)="showDialog()"></button>
    </div>

<p-table [value]="user.cars" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
        <tr>
            <th>Ano</th>
            <th>Placa</th>
            <th>Modelo</th>
            <th>Cor</th>
            <th></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-car>
        <tr>
            <td>{{ car.year }}</td>
            <td>{{ car.licensePlate }}</td>
            <td>{{ car.model }}</td>
            <td>{{ car.color }}</td>
            <td>
                <button  (click)="deleteCar(car)" >delete</button>
            </td>
            </tr>
    </ng-template>
</p-table>

<p-dialog header="Cadastro de Carro" [(visible)]="visible" [style]="{width: '50vw'}">
    <form #carForm="ngForm" (ngSubmit)="onSubmitCar(carForm)">
      <div class="p-fluid">
        <div class="p-field">
          <label for="year">Ano</label>
          <input id="year" type="number" pInputText pInputNumber name="year" [(ngModel)]="car.year" required>
        </div>
        <div class="p-field">
          <label for="licensePlate">Placa</label>
          <input id="licensePlate" type="text" pInputText name="licensePlate" [(ngModel)]="car.licensePlate" required>
        </div>
        <div class="p-field">
          <label for="model">Modelo</label>
          <input id="model" type="text" pInputText name="model" [(ngModel)]="car.model" required>
        </div>
        <div class="p-field">
          <label for="color">Cor</label>
          <input id="color" type="text" pInputText name="color" [(ngModel)]="car.color" required>
        </div>
      </div>
      <button type="submit" pButton label="Salvar"></button>
    </form>
  
</p-dialog>
  </form>
  